type Query {
    products(
        first: Int = 10
        page: Int = 1
        search: String
        vendor: String
        product_type: String
    ): ProductPaginator
        @field(resolver: "App\\GraphQL\\Queries\\ProductsQuery")

    product(id: ID! @eq): Product @find
}

type Mutation {
    createProduct(
        title: String!
        description: String
        price: Float!
        vendor: String
        product_type: String
        status: String
        sync_auto: Boolean
    ): Product @field(resolver: "App\\GraphQL\\Mutations\\CreateProductMutation")

    updateProduct(
        id: ID!
        title: String
        description: String
        price: Float
        vendor: String
        product_type: String
        status: String
        sync_auto: Boolean
    ): Product @field(resolver: "App\\GraphQL\\Mutations\\UpdateProductMutation")

    deleteProduct(id: ID!): Boolean! @field(resolver: "App\\GraphQL\\Mutations\\DeleteProductMutation")

    syncProductToShopify(id: ID!): Product @field(resolver: "App\\GraphQL\\Mutations\\SyncProductToShopifyMutation")

    toggleProductSyncAuto(id: ID!, sync_auto: Boolean!): Product @field(resolver: "App\\GraphQL\\Mutations\\ToggleProductSyncAutoMutation")
}

type Product {
    id: ID!
    shopify_id: String
    title: String!
    description: String
    price: Float!
    vendor: String
    product_type: String
    status: String!
    sync_auto: Boolean!
    synced_at: String
    created_at: String!
    updated_at: String!
}

type ProductPaginator {
    data: [Product!]!
    paginatorInfo: PaginatorInfo!
}

type PaginatorInfo {
    count: Int!
    currentPage: Int!
    firstItem: Int
    hasMorePages: Boolean!
    lastItem: Int
    lastPage: Int!
    perPage: Int!
    total: Int!
}
